var y=Object.defineProperty;var S=(c,e,t)=>e in c?y(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var s=(c,e,t)=>(S(c,typeof e!="symbol"?e+"":e,t),t);class f{constructor({node:e,size:t,borderSize:l,color:r,num:o}){s(this,"node");s(this,"size");s(this,"borderSize");s(this,"color");s(this,"num",0);s(this,"maxProgress",380);s(this,"circle");s(this,"circleContainerValue");this.node=e,this.size=t,this.borderSize=l,this.color=r,this.animation(o),this.init()}init(){const e=`
            <div fxtag="progress_circle">
                <svg width="108" height="108" fxtag="progress_circle_svg">
                    <circle fill="none" stroke-miterlimit="1" cx="54" cy="54" r="49" stroke-width="10" id="circleBg"></circle>
                    <circle fill="none" stroke-miterlimit="1" cx="54" cy="54" r="49" stroke-width="10" stroke-dasharray="308" stroke-dashoffset="308" stroke-linecap="round" transform="rotate(-90 54 54)" id="circle"></circle>
                </svg>
                <div fxtag="progress_circle_value">0%</div>
            </div>
        `;this.node?this.node.innerHTML=e:console.log("挂载点错误");const t=this.node.querySelector('[fxtag="progress_circle"]'),l=t.querySelector('[fxtag="progress_circle_svg"]'),r=t.querySelector('[fxtag="progress_circle_value"]'),o=t.querySelector("#circleBg"),i=t.querySelector("#circle");t.style.position="relative",t.style.width=this.size+"px",t.style.height=this.size+"px",r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.bottom="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.margin="auto",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",o.style.stroke="rgba(0,0,0,.1)",i.style.stroke=this.color;const a=(this.size-this.borderSize)/2,g=this.borderSize,u=Math.round(2*a*Math.PI),n=a+g/2,d=`rotate(-90 ${n} ${n})`;l.setAttribute("width",this.size.toString()),l.setAttribute("height",this.size.toString()),i.setAttribute("r",a.toString()),i.setAttribute("cx",n.toString()),i.setAttribute("cy",n.toString()),i.setAttribute("stroke-width",g.toString()),i.setAttribute("stroke-dasharray",u.toString()),i.setAttribute("stroke-dashoffset",u.toString()),i.setAttribute("transform",d),o.setAttribute("r",a.toString()),o.setAttribute("cx",n.toString()),o.setAttribute("cy",n.toString()),o.setAttribute("stroke-width",g.toString()),this.maxProgress=u,this.circle=i,this.circleContainerValue=r}animation(e=this.num){if(!this.circle||!this.circleContainerValue)return;let t=e/100,l=this.maxProgress*(1-t);this.circle.setAttribute("stroke-dashoffset",l.toString()),this.circleContainerValue.innerHTML=e+"%"}}const b=document.querySelector("#app"),m=new f({node:b,size:108,borderSize:10,color:"yellow",num:5});let h=0;setInterval(()=>{h>=100&&(h=0),h++,m.animation(h)},1e3/36);
